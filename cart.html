<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bag | Urban Outfitters</title>
  <link rel="stylesheet" href="./styles/navbar.css">
  <link rel="stylesheet" href="./styles/footer.css">
  <link rel="stylesheet" href="./styles/cart.css">
  <link rel="stylesheet" href="./styles/slider.css">
  <link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
  <link rel="stylesheet" href="./styles/sign.css">
  <script src="https://kit.fontawesome.com/05dfa6a87b.js" crossorigin="anonymous"></script>
</head>

<body>

  <div id="navbar"></div>
  <!--Sign in part-->
  <div id="sign_itup" style="width: 100%;">
    <div id="popup">
      <div id="sin_pop_div">

        <form id="sigin" action="">

          <div style="display: flex;justify-content: flex-end;">
            <div id="clo_divf">+</div>
          </div>
          <div>
            <h id="sign_t" style="font-family: Helvetica, Arial, sans-serif;font-size: 16px;font-weight:400;">Sign In
            </h>
          </div>
          <div>
            <hr style="width: 102%;">
          </div>
          <div id="inform" style="font-size: 12px;color: red;font-family: Helvetica, Arial, sans-serif"></div>
          <div style="display: flex;justify-content: flex-start;">
            <p style="font-size: 12px;font-weight: bold;font-family: Helvetica, Arial, sans-serif;">Email*</p>
          </div>
          <div>
            <input style="margin-left: 0px;width: 100%;height: 36px;" id="ent_e" type="email">
          </div>
          <div style="display: flex;justify-content: flex-start;margin-top: 20px;">
            <p style="font-size: 12px;font-weight: bold;margin-bottom: 2px;font-family: Helvetica, Arial, sans-serif;">
              Password*</p>
          </div>
          <div>
            <input style="width: 100%;height: 36px;" id="sign_p" type="password">
          </div>
          <div style="display: flex;justify-content: flex-start;height: 60px;margin-top: 15px;" id="show_pf">
            <img style="width: 19px; height: 18px;margin-top: 10px;"
              src="https://cdn-icons-png.flaticon.com/512/71/71375.png" alt="icn">
            <p
              style="font-size: 12px;text-decoration: underline;margin-left: 5px;color: grey;font-family: Helvetica, Arial, sans-serif">
              Show Password</p>
          </div>
          <div style="display: flex;justify-content: flex-start;height: 60px;margin-top: 15px;display: none;"
            id="hide_pf">
            <img style="width: 19px; height: 18px;margin-top: 10px;"
              src="https://cdn-icons.flaticon.com/png/512/722/premium/722357.png?token=exp=1642611058~hmac=559d3bbf0d15364fbad4ed3ab3c39e16"
              alt="icn">
            <p
              style="font-size: 12px;text-decoration: underline;margin-left: 5px;color: grey;font-family: Helvetica, Arial, sans-serif">
              Hide Password</p>
          </div>
          <div>
            <button
              style="width: 102%;height: 36px;font-weight: bold;color: white;cursor: pointer;background-color: black;"
              id="sign_inb">Sign In</button>
          </div>
          <div style="height: 40px;display: flex;align-items: center;justify-content: center;">
            <p style="font-size: 12px;text-decoration: underline;color: grey;font-family: Helvetica, Arial, sans-serif">
              Forget Your Password?</p>
          </div>
          <div>
            <hr style="width: 102%;">
          </div>
          <div>
            <p style="font-family: Helvetica, Arial, sans-serif">Sign up</p>
          </div>
          <div>
            <p style="font-size: 12px;color: grey;font-family: Helvetica, Arial, sans-serif">Welcome! It's quick and
              easy to set up an account.</p>
          </div>
          <div>
            <button
              style="width: 100%;height: 36px;background-color: white;cursor: pointer;font-weight: bold;font-size: 12px;font-family: Helvetica, Arial, sans-serif"
              id="sign_upb">Create an Account</button>
          </div>
        </form>
      </div>
    </div>
    <div id="pops">
      <div id="sup_pop_div">
        <form action="" id="sigup">
          <div style="display: flex;justify-content: flex-end;">
            <div id="clo_divs">+</div>
          </div>
          <div style="height: 20px;">
            <p style="font-family: Helvetica, Arial, sans-serif;font-size: 16px;font-weight:400;margin-top: 0px;">Create
              an Account</p>
          </div>
          <div>
            <hr style="width: 100%;">
          </div>
          <div style="height: 27px;">
            <p style="font-size: 12px;color: grey;font-family: Helvetica, Arial, sans-serif;margin-top: 0px;">Please
              enter your email address and password to create an<br> account.</p>
          </div>
          <div>
            <p style="font-family: Helvetica, Arial, sans-serif;color: red;font-size: 12px;" id="errf"></p>
          </div>
          <div style="display: flex;justify-content: flex-start;height: 20px;">
            <p style="font-size: 12px;font-weight: bold;font-family: Helvetica, Arial, sans-serif;margin-top: 0px;">
              Email*</p>
          </div>
          <div>
            <input style="width: 100%;height: 36px;" id="signup_mail" type="email"
              pattern="^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$">
          </div>
          <div style="height: 15px;">
            <p></p>
          </div>
          <div style="display: flex;justify-content: flex-start;height: 30px;">
            <p style="font-size: 12px;font-weight: bold;font-family: Helvetica, Arial, sans-serif;">Password*</p>
          </div>

          <div>
            <input style="height: 36px;width: 100%;" type="password" id="sineup_pass">
          </div>
          <div style="height: 17px;">
            <p></p>
          </div>
          <div style="display: flex;justify-content: flex-start;height: 22px;" id="show_ps">
            <img style="width: 19px; height: 18px;margin-top: 0px;"
              src="https://cdn-icons-png.flaticon.com/512/71/71375.png" alt="icn">
            <p
              style="font-size: 12px;text-decoration: underline;margin-left: 5px;margin-top: 2px;color: grey;font-family: Helvetica, Arial, sans-serif">
              Show Password</p>
          </div>
          <div style="display: flex;justify-content: flex-start;height: 22px;display: none;" id="hide_ps">
            <img style="width: 19px; height: 18px;margin-top: 0px;"
              src="https://cdn-icons.flaticon.com/png/512/722/premium/722357.png?token=exp=1642611058~hmac=559d3bbf0d15364fbad4ed3ab3c39e16"
              alt="icn">
            <p
              style="font-size: 12px;text-decoration: underline;margin-left: 5px;margin-top: 2px;color: grey;font-family: Helvetica, Arial, sans-serif">
              Hide Password</p>
          </div>
          <div style="display: flex;justify-content: flex-start;">
            <p style="font-size: 12px;font-weight: bold;font-family: Helvetica, Arial, sans-serif;">style Preference*
            </p>
          </div>
          <div>
            <select style="font-family: Helvetica, Arial, sans-serif;width: 100%;height: 36px;" name="" id="Select_it">
              <option value="noth">I'd rather not say</option>
              <option value="men">Men's</option>
              <option value="wom">Women's</option>
            </select>
          </div>
          <div>
            <div style="display: flex; justify-content: flex-start;text-align: left;">
              <input style="margin-top: 12px;background-color: grey;color: honeydew;" type="checkbox" name="" id="cond">
              <p style="font-size: 12px;color: grey;font-family: Helvetica, Arial, sans-serif">Sign up for email to
                receive rewards, exclusive discounts, early access to sale, VIP status and much more!</p>
            </div>
          </div>

          <div style="text-align: left">
            <p style="font-size: 12px;color: grey;font-family: Helvetica, Arial, sans-serif">By creating an account, you
              agree to Urban Outfitters terms of use and privacy policy.
            </p>
          </div>
          <div>
            <button
              style="font-family: Helvetica, Arial, sans-serif;width: 100%;cursor: pointer;height: 36px;background-color: black;color: white;font-weight: bold;"
              id="creacc">Create an Account</button>
          </div>
          <div style="height: 20px;">
            <hr style="margin-top:15px ;width: 100%;">
          </div>
          <div>
            <p style="font-family: Helvetica, Arial, sans-serif;">Already Have an Account?</p>
          </div>
          <div>
            <button
              style="font-family: Helvetica, Arial, sans-serif;cursor: pointer;width: 100%;height: 36px;font-weight: bold;background-color: white;"
              id="sign_b">Sign In</button>
          </div>
          <div style="height: 40px;"></div>
        </form>
      </div>
    </div>
    <div id="thirdp">
      <div id="thirdps">
        <div style="display: flex;justify-content: center;align-content: center;margin-top: 30px">
          <p style="font-family: Helvetica, Arial, sans-serif;font-size: 16px;font-weight:400;">Create an Account</p>
        </div>
        <div>
          <hr style="width: 100%;">
        </div>
        <div style="display: flex;justify-content: center;align-content: center;">
          <p style="font-size: 12px;font-family: Helvetica, Arial, sans-serif;color: rgb(21, 109, 9);">You are now
            logged in to your new account</p>
        </div>
        <div style="margin-top: 20px;">
          <button
            style="width: 100%;height: 36px;background-color: black;color: white;font-weight: bold;font-size: 12px;font-family:Helvetica, Arial, sans-serif;font-size: 20px;cursor: pointer;"
            id="sipok">ok</button>
        </div>
      </div>
    </div>
  </div>
  <!--Sign in part-->
  <div id="body">
    <div id="main"></div>
    <div id="summary"></div>
  </div>
  <div id="slider">
    <h3>For You</h3>
    <hr>
    <div class="carousel" data-flickity='{ "groupCells": 5 }'>
      <div class="carousel-cell">
        <div class="img">
          <img src="https://images.urbndata.com/is/image/UrbanOutfitters/31722010_011_d?$medium$&qlt=80&fit=constrain"
            alt="">
          <p>Anastasia Beverly Hills Brow Powder Duo
          </p>
        </div>

      </div>
      <div class="carousel-cell">
        <div class="img">
          <img src="https://images.urbndata.com/is/image/UrbanOutfitters/48195911_020_d?$medium$&qlt=80&fit=constrain"
            alt="">
          <p>Bamboo Woven Pendant Light Shade</p>
        </div>

      </div>
      <div class="carousel-cell">
        <div class="img">
          <img src="https://images.urbndata.com/is/image/UrbanOutfitters/63049985_080_d?$medium$&qlt=80&fit=constrain"
            alt="">
          <p>Beatrix Brushed Bed Blanket</p>
        </div>

      </div>
      <div class="carousel-cell">
        <div class="img">
          <img src="https://images.urbndata.com/is/image/UrbanOutfitters/59096487_040_d?$medium$&qlt=80&fit=constrain"
            alt="">
          <p>Alex Modern Blocks Framed Art Print</p>
        </div>

      </div>
      <div class="carousel-cell">
        <div class="img">
          <img src="https://images.urbndata.com/is/image/UrbanOutfitters/59845693_000_d?$medium$&qlt=80&fit=constrain"
            alt="">
          <p>BALLS™ Trimmer</p>
        </div>

      </div>
      <div class="carousel-cell">
        <div class="img">
          <img src="https://images.urbndata.com/is/image/UrbanOutfitters/46261871_070_d?$medium$&qlt=80&fit=constrain"
            alt="">
          <p>Celestial Sun Light Sculpture</p>
        </div>

      </div>
      <div class="carousel-cell">
        <div class="img">
          <img src="https://images.urbndata.com/is/image/UrbanOutfitters/64108277_009_d?$medium$&qlt=80&fit=constrain"
            alt="">
          <p>C7skates UO Exclusive Checkerboard Premium Quad Roller Skate</p>
        </div>

      </div>
      <div class="carousel-cell">
        <div class="img">
          <img src="https://images.urbndata.com/is/image/UrbanOutfitters/49266935_072_d?$medium$&qlt=80&fit=constrain"
            alt="">
          <p>Coors Golden Colorado Tee</p>
        </div>

      </div>
      <div class="carousel-cell">
        <div class="img">
          <img src="https://images.urbndata.com/is/image/UrbanOutfitters/66211160_010_d?$medium$&qlt=80&fit=constrain"
            alt="">
          <p>BDG Corduroy Dipped-Waistband Pant</p>
        </div>

      </div>
      <div class="carousel-cell">
        <div class="img">
          <img src="https://images.urbndata.com/is/image/UrbanOutfitters/66947144_007_d?$medium$&qlt=80&fit=constrain"
            alt="">
          <p>Hannah Snake Ring Set</p>
        </div>

      </div>

    </div>
  </div>
  <div id="footer"></div>
</body>

</html>
<script type="module">

  import navbar from './components/navbar.js'
  import footer from './components/footer.js'
  let nav = document.getElementById("navbar");

  nav.innerHTML = navbar()
///////////////////////////////////// signin /////////////////////////

function check_user() {
    let checr = JSON.parse(localStorage.getItem("checkiacc"))
    if (checr > 0) {
      document.getElementById("myaccdiv").style.display = "flex"
      console.log(checr)
    } else {
      document.getElementById("myaccdiv").style.display = "none"
      console.log(checr)
    }
    if (checr == 0 || checr == null) {
      document.getElementById("signindiv").style.display = "flex"
      console.log(checr)
    } else {
      document.getElementById("signindiv").style.display = "none"
      console.log(checr)
    }
  }
  check_user()
  document.getElementById("myacc").addEventListener("click", function (event) {
    event.preventDefault()
    localStorage.setItem("checkiacc", JSON.stringify(0))
    check_user()
  })
  document.getElementById("signindiv").addEventListener("click", function (event) {
    event.preventDefault()
    console.log(document.getElementById("clo_divf").value)
    document.getElementById("popup").style.display = "flex"
  })
  document.getElementById("sign_upb").addEventListener("click", function (event) {
    event.preventDefault()
    document.getElementById("popup").style.display = "none"
    document.getElementById("pops").style.display = "flex"
    document.getElementById("inform").textContent = ""
    document.getElementById("hide_pf").style.display = "none"
    document.getElementById("show_pf").style.display = "flex"
    document.getElementById("sign_p").type = "password";
    document.getElementById("hide_ps").style.display = "none"
    document.getElementById("show_ps").style.display = "flex"
    document.getElementById("sineup_pass").type = "password";
    document.getElementById("sigin").reset()
    document.getElementById("sigup").reset()
  })
  document.getElementById("sign_b").addEventListener("click", function (event) {
    event.preventDefault()
    document.getElementById("popup").style.display = "flex"
    document.getElementById("pops").style.display = "none"
    document.getElementById("errf").textContent = ""
    document.getElementById("hide_pf").style.display = "none"
    document.getElementById("show_pf").style.display = "flex"
    document.getElementById("sign_p").type = "password";
    document.getElementById("hide_ps").style.display = "none"
    document.getElementById("show_ps").style.display = "flex"
    document.getElementById("sineup_pass").type = "password";
    document.getElementById("sigin").reset()
    document.getElementById("sigup").reset()
  })
  document.getElementById("clo_divf").addEventListener("click", function (event) {
    event.preventDefault()
    document.getElementById("popup").style.display = "none"
    document.getElementById("errf").textContent = ""
    document.getElementById("inform").textContent = ""
    document.getElementById("inform").textContent = ""
    document.getElementById("hide_pf").style.display = "none"
    document.getElementById("show_pf").style.display = "flex"
    document.getElementById("sign_p").type = "password";
    document.getElementById("hide_ps").style.display = "none"
    document.getElementById("show_ps").style.display = "flex"
    document.getElementById("sineup_pass").type = "password";
    document.getElementById("sigin").reset()
    document.getElementById("sigup").reset()
  })
  document.getElementById("clo_divs").addEventListener("click", function (event) {
    event.preventDefault()
    document.getElementById("pops").style.display = "none"
    document.getElementById("errf").textContent = ""
    document.getElementById("hide_pf").style.display = "none"
    document.getElementById("show_pf").style.display = "flex"
    document.getElementById("sign_p").type = "password";
    document.getElementById("hide_ps").style.display = "none"
    document.getElementById("show_ps").style.display = "flex"
    document.getElementById("sineup_pass").type = "password";
    document.getElementById("sigin").reset()
    document.getElementById("sigup").reset()
  })
  document.getElementById("show_pf").addEventListener("click", function (event) {
    event.preventDefault()
    document.getElementById("show_pf").style.display = "none"
    document.getElementById("hide_pf").style.display = "flex"
    document.getElementById("sign_p").type = "text";
  })
  document.getElementById("hide_pf").addEventListener("click", function (event) {
    event.preventDefault()
    document.getElementById("hide_pf").style.display = "none"
    document.getElementById("show_pf").style.display = "flex"
    document.getElementById("sign_p").type = "password";

  })
  document.getElementById("show_ps").addEventListener("click", function (event) {
    event.preventDefault()
    document.getElementById("show_ps").style.display = "none"
    document.getElementById("hide_ps").style.display = "flex"
    document.getElementById("sineup_pass").type = "text";
  })
  document.getElementById("hide_ps").addEventListener("click", function (event) {
    event.preventDefault()
    document.getElementById("hide_ps").style.display = "none"
    document.getElementById("show_ps").style.display = "flex"
    document.getElementById("sineup_pass").type = "password";

  })


  var mainarr = JSON.parse(localStorage.getItem("mainsignup")) || [];
  var c = 0;
  document.getElementById("creacc").addEventListener("click", async function (event) {
    event.preventDefault();
    console.log("hey");
    try {
      let data = {
        email: document.getElementById("signup_mail").value,
        password: document.getElementById("sineup_pass").value,
      }

      data = JSON.stringify(data);

      let response = await fetch(`http://localhost:5500/register`, {
        method: "POST",
        body: data,
        headers: {
          "Content-Type": "application/json"
        }
      });

      let data1 = await response.json();
      console.log(data1);
    } catch (error) {
      console.log(error);
    }

    let mainarr = JSON.parse(localStorage.getItem("mainsignup")) || [];
    let emails = document.getElementById("signup_mail").value;
    let passcode = document.getElementById("sineup_pass").value;
    if (emails == "" || passcode == "") {
      alert("fields are empty")
    } else {
      for (let i = 0; i < mainarr.length; i++) {
        if (mainarr[i].mails == emails) {
          console.log("yes")
          c++
        }
      }
      if (c > 0) {
        c = 0
        document.getElementById("errf").textContent = "It looks like you already have an account with us!"
      } else {
        let datas = {
          mails: emails,
          passc: passcode
        }
        mainarr.push(datas);
        localStorage.setItem("checkiacc", JSON.stringify(1))
        check_user()
        localStorage.setItem("mainsignup", JSON.stringify(mainarr))
        document.getElementById("popup").style.display = "none"
        document.getElementById("pops").style.display = "none"
        document.getElementById("thirdp").style.display = "flex"
        document.getElementById("hide_pf").style.display = "none"
        document.getElementById("show_pf").style.display = "flex"
        document.getElementById("sign_p").type = "password";
        document.getElementById("hide_ps").style.display = "none"
        document.getElementById("show_ps").style.display = "flex"
        document.getElementById("sineup_pass").type = "password";
        document.getElementById("sigin").reset()
        document.getElementById("sigup").reset()
      }
    }
  })
  document.getElementById("sipok").addEventListener("click", function (event) {
    event.preventDefault();
    document.getElementById("thirdp").style.display = "none"
    document.getElementById("pops").style.display = "none"
    document.getElementById("popup").style.display = "none"

  })
  var d = 0;
  var checkarr = JSON.parse(localStorage.getItem("mainsignup")) || [];
  document.getElementById("sign_inb").addEventListener("click", async function (event) {
    event.preventDefault();
console.log("signin")
    try {
      let data = {
        email: document.getElementById("ent_e").value,
        password: document.getElementById("sign_p").value,
      }

      data = JSON.stringify(data);

      let response = await fetch(`http://localhost:5500/login`, {
        method: "POST",
        body: data,
        headers: {
          "Content-Type": "application/json"
        }
      });

      let data1 = await response.json();
      console.log(data1);
    } catch (error) {
      console.log(error);
    }

    let checkarr = JSON.parse(localStorage.getItem("mainsignup")) || [];
    let emailee = document.getElementById("ent_e").value;
    let pasee = document.getElementById("sign_p").value;

    if (emailee == "" || pasee == "") {
      alert("fields are empty")
    } else {
      for (var j = 0; j < checkarr.length; j++) {
        console.log(checkarr[j].mails, checkarr[j].passc)
        if ((checkarr[j].mails == emailee) && (checkarr[j].passc == pasee)) {
          d++
          console.log(checkarr[j].mails, checkarr[j].passc)
          localStorage.setItem("checkiacc", JSON.stringify(1))
          check_user()
        }
      }
      if (d > 0) {
        document.getElementById("popup").style.display = "none"
        document.getElementById("pops").style.display = "none"
        document.getElementById("hide_pf").style.display = "none"
        document.getElementById("show_pf").style.display = "flex"
        document.getElementById("sign_p").type = "password";
        document.getElementById("hide_ps").style.display = "none"
        document.getElementById("show_ps").style.display = "flex"
        document.getElementById("sineup_pass").type = "password";
        document.getElementById("sigin").reset()
        document.getElementById("sigup").reset()
        d = 0
      } else {

        document.getElementById("inform").textContent = "Please enter a valid email address and password."
      }
    }
  })
  ///////////////////////////////////// signin /////////////////////////
  let cart = JSON.parse(localStorage.getItem("cart"))
  document.querySelector(".fa-shopping-bag").innerHTML = cart.length;

  let foot = document.getElementById("footer");
  foot.innerHTML = footer()

  document.getElementById("back").addEventListener("click", function () {
    window.location.href = "index.html"
  })
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
<script>
  let cart = JSON.parse(localStorage.getItem("cart")) || [];
  console.log(cart);
  let main = document.getElementById("main");
  let total = 0;
  function display(cart) {
    main.innerHTML = null;
    cart.map(function (elem, index) {
      // console.log(elem, index);
      let div = document.createElement("div");
      div.innerHTML = ` <img
        src=${elem.img1}
        alt="">
      <div>
        <p id="name">${elem.name}</p>
        <p id="size"><b>size </b >${elem.size}</p>
        <p id="name"><b>brand </b >${elem.brand}</p>
        <p id="size"><b>color </b >${elem.color}</p>
      </div>
      <p id="price"><b>Price </b >$${elem.price}</p>
      <select name="" id="quantity">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>
      <div>
        <p id="total"><b>Total </b >$${elem.price}</p>
        <p id="remove">Remove</p>
      </div>`
      total += Number(elem.price)

      // var del = document.querySelector("#remove");
      div.addEventListener("click", function () {
        console.log(elem, index);
        remove_cart(elem, index);
      })
      main.append(div)
      // console.log(main);
    })
    document.getElementById("summary").innerHTML = ` <p>
          <a>Subtotal</a>
          <a>$${total}</a>
        </p>
        <p>Shipping TBD</p>
        <p>
          <a>Estimated Tax
          </a>
          <a>$${0.0}</a>
        </p>
        <p><b>Total</b> <b>$${total}</b></p>
        <button id="continue">Continue</button>
        <hr>
        <p id="promo">promo code</p>
      </div>`;
    localStorage.setItem("total", JSON.stringify(total));
  }
  display(cart);

  function remove_cart(elem, index) {
    cart.splice(index, 1);
    total -= Number(elem.price);
    localStorage.setItem("cart", JSON.stringify(cart));
    display(cart)
    console.log(index);
    location.reload()
  }

  document.getElementById("continue").addEventListener("click", function () {
    window.location.href = "checkout.html"
  })

</script>